"use strict";var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],l=!0,o=!1,i=void 0;try{for(var s,n=e[Symbol.iterator]();!(l=(s=n.next()).done)&&(r.push(s.value),!t||r.length!==t);l=!0);}catch(e){o=!0,i=e}finally{try{!l&&n.return&&n.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var l=t[r];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,r,l){return r&&e(t.prototype,r),l&&e(t,l),t}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Carousel=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#carousel";_classCallCheck(this,e),this.selector=document.querySelector(t),this.number=null==this.selector.dataset.ezViewNumber?5:this.selector.dataset.ezViewNumber,this.autoScroll=null==this.selector.dataset.ezAutoscroll?"off":this.selector.dataset.ezAutoscroll,this.width=null==this.selector.dataset.ezWidth?"100%":this.selector.dataset.ezWidth,this.height=null==this.selector.dataset.ezHeight?"200px":this.selector.dataset.ezHeight,this.arrowColor=null==this.selector.dataset.ezArrowColor?"black":this.selector.dataset.ezArrowColor,this.bgColor=null==this.selector.dataset.ezBg?"white":this.selector.dataset.ezBg,this.arrowSize=null==this.selector.dataset.ezArrowSize?"2rem":this.selector.dataset.ezArrowSize,this.linked=null==this.selector.dataset.ezLinked?"false":this.selector.dataset.ezLinked}return _createClass(e,[{key:"makeCarousel",value:function(){var e=void 0,t=[],r="<div class='previous'><p>&#8672;</p></div><div class='rotater'>",l=!0,o=!1,i=void 0;try{for(var s,n=this.selector.children[Symbol.iterator]();!(l=(s=n.next()).done);l=!0){e=s.value.getAttribute("src"),t.push(e),r=r+"<div class='carousel-img-holder'><img src="+e+" class='carousel-img' /></div>"}}catch(e){o=!0,i=e}finally{try{!l&&n.return&&n.return()}finally{if(o)throw i}}r+="</div><div class='next'><p>&#8674;</p></div><div class=\"carousel-buttons\"></div>",this.selector.innerHTML=r;var a=this.selector.style,c=[this.bgColor,this.width,this.height,"flex","center","relative","wrap"];a.background=c[0],a.width=c[1],a.height=c[2],a.display=c[3],a.justifyContent=c[4],a.position=c[5],a.flexWrap=c[6];var d=this.selector.childNodes[0].style,u=this.selector.childNodes[2].style;d.position=u.position="relative",d.top=u.top="0",d.height=u.height="90%",d.width=u.width="10%",d.display=u.display="flex",d.alignItems=u.alignItems="center",d.fontSize=u.fontSize=this.arrowSize,d.color=u.color=this.arrowColor,d.justifyContent=u.justifyContent="center",d.flexFlow="row",u.flexFlow="row-reverse",d.left="0",u.right="0",d.cursor=u.cursor="pointer";var h=this.selector.childNodes[1];h.style.display="flex",h.style.height="90%",h.style.width="80%",h.style.position="relative",h.style.overflow="hidden";var y=!0,f=!1,v=void 0;try{for(var b,m=this.selector.childNodes[1].childNodes[Symbol.iterator]();!(y=(b=m.next()).done);y=!0){var g=b.value,w=.8*this.selector.getBoundingClientRect().height,C=w;w+="px";var p=this.selector.getBoundingClientRect().height/10+"px",x=(this.selector.getBoundingClientRect().width-document.getElementsByClassName("next")[0].getBoundingClientRect().width-document.getElementsByClassName("previous")[0].getBoundingClientRect().width)/this.number-this.selector.getBoundingClientRect().height/10*2+"px";g.setAttribute("style","height: "+w+"; width: "+x+"; margin: "+p+"; display: flex; align-items: center; justify-content: center;  transition: 0.5s;"),g.childNodes[0].style.width=x,g.childNodes[0].style.height=.8*C+"px",g.childNodes[0].style.margin="auto"}}catch(e){f=!0,v=e}finally{try{!y&&m.return&&m.return()}finally{if(f)throw v}}var A=this.selector.childNodes[3].style,S=Math.ceil(this.selector.childNodes[1].childNodes.length/this.number),N=["100%",this.selector.getBoundingClientRect().height/10+"px","flex","wrap","center","center"];A.width=N[0],A.height=N[1],A.display=N[2],A.flexFlow=N[3],A.justifyContent=N[4],A.alignItems=N[5];for(var B=0;B<S;B++){var k=.4*this.selector.childNodes[3].getBoundingClientRect().height,z=.4*this.selector.childNodes[3].getBoundingClientRect().height,L=k/2,q=document.createElement("div");q.setAttribute("class","carousel-button-blob"),q.setAttribute("style","height: "+k+"px; width: "+z+"px; margin: "+L+"px; background: "+this.arrowColor+"; border: 1px solid "+this.arrowColor+"; border-radius: 50%; transition: 0.2s; cursor: pointer;"),this.selector.childNodes[3].appendChild(q),q.setAttribute("id","ez-cbb-"+(B+1)),0==B&&q.setAttribute("class","carousel-button-blob selected")}this.carouselActions()}},{key:"carouselActions",value:function(){var e,t=void 0,r=void 0,l=void 0,o=void 0,i=void 0;l=1,i=0,r=this.selector,e=Math.ceil(this.selector.childNodes[1].childNodes.length/this.number),console.log(r),document.querySelector(".selected").style.background="transparent";var s=!0,n=!1,a=void 0;try{for(var c,d=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;if(-1==[].concat(_toConsumableArray(u.classList)).indexOf("selected")){t=u.style.background;break}}}catch(e){n=!0,a=e}finally{try{!s&&d.return&&d.return()}finally{if(n)throw a}}var h=!0,y=!1,f=void 0;try{for(var v,b=function(){var e=v.value;e.onmouseover=function(){e.style.background="transparent"},e.onmouseout=function(){-1==[].concat(_toConsumableArray(this.classList)).indexOf("selected")&&(e.style.background=t)},e.onclick=function(){var s=!0,n=!1,a=void 0;try{for(var c,d=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(s=(c=d.next()).done);s=!0){var u=c.value;-1!=[].concat(_toConsumableArray(u.classList)).indexOf("selected")&&(l=u.id.slice(-1*(u.id.length-7)))}}catch(e){n=!0,a=e}finally{try{!s&&d.return&&d.return()}finally{if(n)throw a}}var h=!0,y=!1,f=void 0;try{for(var v,b=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(h=(v=b.next()).done);h=!0){var m=v.value;-1!=[].concat(_toConsumableArray(m.classList)).indexOf("selected")&&m.classList.remove("selected")}}catch(e){y=!0,f=e}finally{try{!h&&b.return&&b.return()}finally{if(y)throw f}}this.classList.add("selected");var g=!0,w=!1,C=void 0;try{for(var p,x=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(g=(p=x.next()).done);g=!0){var A=p.value;-1==[].concat(_toConsumableArray(A.classList)).indexOf("selected")&&(A.style.background=t)}}catch(e){w=!0,C=e}finally{try{!g&&x.return&&x.return()}finally{if(w)throw C}}o=e.id.slice(-1*(e.id.length-7));var S=r.getBoundingClientRect().width-document.getElementsByClassName("next")[0].getBoundingClientRect().width-document.getElementsByClassName("previous")[0].getBoundingClientRect().width,N=l-o,B=!0,k=!1,z=void 0;try{for(var L,q=r.childNodes[1].childNodes[Symbol.iterator]();!(B=(L=q.next()).done);B=!0){L.value.style.transform="translateX("+(i+N*S)+"px)"}}catch(e){k=!0,z=e}finally{try{!B&&q.return&&q.return()}finally{if(k)throw z}}i+=N*S}},m=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(h=(v=m.next()).done);h=!0)b()}catch(e){y=!0,f=e}finally{try{!h&&m.return&&m.return()}finally{if(y)throw f}}document.querySelector(".previous").onclick=function(){var l=void 0,o=!0,s=!1,n=void 0;try{for(var a,c=document.querySelectorAll(".carousel-button-blob").entries()[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var d=_slicedToArray(a.value,2),u=d[0],h=d[1];if(-1!=[].concat(_toConsumableArray(h.classList)).indexOf("selected")){l=h.id,h.classList.remove("selected"),0==u?h.classList.add("selected"):document.querySelectorAll(".carousel-button-blob")[u-1].classList.add("selected");break}}}catch(e){s=!0,n=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw n}}var y=r.getBoundingClientRect().width-document.getElementsByClassName("next")[0].getBoundingClientRect().width-document.getElementsByClassName("previous")[0].getBoundingClientRect().width;if("ez-cbb-1"==l){i=-1*(e-1)*y;var f=!0,v=!1,b=void 0;try{for(var m,g=r.childNodes[1].childNodes[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){m.value.style.transform="translateX("+i+"px)"}}catch(e){v=!0,b=e}finally{try{!f&&g.return&&g.return()}finally{if(v)throw b}}document.querySelectorAll(".carousel-button-blob")[0].classList.remove("selected"),document.querySelectorAll(".carousel-button-blob")[e-1].classList.add("selected")}else{var w=!0,C=!1,p=void 0;try{for(var x,A=r.childNodes[1].childNodes[Symbol.iterator]();!(w=(x=A.next()).done);w=!0){x.value.style.transform="translateX("+(i+y)+"px)"}}catch(e){C=!0,p=e}finally{try{!w&&A.return&&A.return()}finally{if(C)throw p}}i+=y}var S=!0,N=!1,B=void 0;try{for(var k,z=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(S=(k=z.next()).done);S=!0){var L=k.value;-1==[].concat(_toConsumableArray(L.classList)).indexOf("selected")?L.style.background=t:L.style.background="transparent"}}catch(e){N=!0,B=e}finally{try{!S&&z.return&&z.return()}finally{if(N)throw B}}},document.querySelector(".next").onclick=function(){var l=void 0,o=!0,s=!1,n=void 0;try{for(var a,c=document.querySelectorAll(".carousel-button-blob").entries()[Symbol.iterator]();!(o=(a=c.next()).done);o=!0){var d=_slicedToArray(a.value,2),u=d[0],h=d[1];if(-1!=[].concat(_toConsumableArray(h.classList)).indexOf("selected")){l=h.id,h.classList.remove("selected"),u==e-1?h.classList.add("selected"):document.querySelectorAll(".carousel-button-blob")[u+1].classList.add("selected");break}}}catch(e){s=!0,n=e}finally{try{!o&&c.return&&c.return()}finally{if(s)throw n}}var y=r.getBoundingClientRect().width-document.getElementsByClassName("next")[0].getBoundingClientRect().width-document.getElementsByClassName("previous")[0].getBoundingClientRect().width;if(l=="ez-cbb-"+e){i=0;var f=!0,v=!1,b=void 0;try{for(var m,g=r.childNodes[1].childNodes[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){m.value.style.transform="translateX("+i+"px)"}}catch(e){v=!0,b=e}finally{try{!f&&g.return&&g.return()}finally{if(v)throw b}}document.querySelectorAll(".carousel-button-blob")[0].classList.add("selected"),document.querySelectorAll(".carousel-button-blob")[e-1].classList.remove("selected")}else{i-=y;var w=!0,C=!1,p=void 0;try{for(var x,A=r.childNodes[1].childNodes[Symbol.iterator]();!(w=(x=A.next()).done);w=!0){x.value.style.transform="translateX("+i+"px)"}}catch(e){C=!0,p=e}finally{try{!w&&A.return&&A.return()}finally{if(C)throw p}}}var S=!0,N=!1,B=void 0;try{for(var k,z=document.querySelectorAll(".carousel-button-blob")[Symbol.iterator]();!(S=(k=z.next()).done);S=!0){var L=k.value;-1==[].concat(_toConsumableArray(L.classList)).indexOf("selected")?L.style.background=t:L.style.background="transparent"}}catch(e){N=!0,B=e}finally{try{!S&&z.return&&z.return()}finally{if(N)throw B}}}}}]),e}();